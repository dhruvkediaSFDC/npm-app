<template>
    <div class="list">
        <div class="slds-form-element">
            <lightning-input
                type="search"
                label="Search"
                variant="label-hidden"
                placeholder="Search sessions..."
                onchange={handleSearchKeyInput}
            >
            </lightning-input>
        </div>

        <template for:each={sessions} for:item="session" for:index="index">
            <div class="slds-p-around_medium lgc-bg" key={session.id}>
                <a
                    key={session.id}
                    class="session"
                    data-index={index}
                    onclick={handleSessionClick}
                >
                    <div class="slds-card">
                        <div class="slds-card__header slds-grid">
                            <lightning-card title={session.name}>
                                <div
                                    class="slds-card__body slds-card__body_inner"
                                >
                                    <p>
                                        <lightning-icon
                                            class="slds-icon slds-icon-text-default slds-icon_small"
                                            icon-name="standard:date_time"
                                            alternative-text="Date Time"
                                            title="Date Time"
                                            size="small"
                                        >
                                        </lightning-icon>
                                        {session.dateTime}
                                    </p>

                                    <p>
                                        <lightning-icon
                                            class="slds-icon slds-icon-text-default slds-icon_small"
                                            icon-name="standard:address"
                                            alternative-text="Address"
                                            title="Address"
                                            size="small"
                                        >
                                        </lightning-icon>
                                        {session.room}
                                    </p>

                                    <div>
                                        <template
                                            for:each={session.speakers}
                                            for:item="speaker"
                                        >
                                            <lightning-avatar
                                                class="slds-avatar"
                                                src={speaker.pictureUrl}
                                                variant="circle"
                                                key={speaker.id}
                                                size="large"
                                                alternative-text={speaker.name}
                                            >
                                            </lightning-avatar>
                                        </template>
                                    </div>
                                </div>
                            </lightning-card>
                        </div>
                    </div>
                </a>
            </div>
        </template>
    </div>
</template>
